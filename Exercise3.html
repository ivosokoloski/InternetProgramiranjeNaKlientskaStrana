<!--Да се направи веб-страница за генерирање сметки при осигурување на возила. Во горниот дел од веб-страницата се внесуваат податоци-->
<!--за возилото и тоа: име и презиме на сопственикот, регистарска табличка на возилото, години на старост на возилото и информации за-->
<!--претходни сообраќајни незгоди (Да или Не). При кликнување на копчето "Генерирај сметка", ако сите полиња се пополнети, се додава-->
<!--сметката која сопственикот треба да ја плати, а полињата се рестартираат (15 поени). Ако не се внесени сите полиња се печати порака-->
<!--за грешка (5 поени). Притоа, при генерирањето на сметката треба да се направи проверка на регистарската табличка на возилото. -->
<!--Треба да се провери дали форматот на внесената таблица одговара на форматот во нашата држава, односно 48-1234-QW (две букли-четири броеви две букви) -->
<!--(15 поени). Исто така, потребно е да се пресмета цената која сопственикот треба да ја плати. Основата на цената е 3000 денари, -->
<!--а дополнително се додава 1000 денари доколку возилото има златна таблица (сите четири броеви се исти). Исто така, доколку возилото учествувало -->
<!--во сообраќајна незгода претходно се додаваат уште 500 денари (15-->
<!--поени). Соодветно, сметката е обоена во црвено доколку станува збор за позило постаро од 30 години, а по спротивно е зелена (5 поени). -->
<!--Во сметката има и копчиња „Плати" и „Избриши". За секоја сметка при кликнување на копчето „Плати" двете копчиња се оневозможуваат, -->
<!--а при клик на копчето. Избриши" избраната сметка се брише од погледот (5 поени). Вкупниот број на сметки е запишан до формата (5 поени). -->
<!--Во прилог изгледот на страницата (15 поени).-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercise3</title>
</head>
<body>
<div>
    <label for="name">name</label><input type="text" id="name">
</div>
<div>
    <label for="surname">surname</label><input type="text" id="surname">
</div>
<div>
    <label for="registarskatablica">registarska tablica</label><input type="text" id="registarskatablica">
</div>
<div>
    <label for="starost">godina na starost</label><input type="text" id="starost">
</div>
<div>
    <label for="dasoobrajkajnanezgoda">da</label><input type="radio" id="dasoobrajkajnanezgoda">
    <label for="nesoobrajkajnanezgoda">ne</label><input type="radio" id="nesoobrajkajnanezgoda">
</div>
<div>
    <button onclick="generiraj()" id="generiraj">Generiraj smetka</button>
</div>
<p>Vkupno smetki za plakanje<span id="zaplakanje">0</span></p>
<div id="dodadi">

</div>
<script>
    let counterplakanje=0;
    function generiraj() {
        var name= document.getElementById("name").value
        var surname= document.getElementById("surname").value
        var registarskatablica= document.getElementById("registarskatablica").value
        var starost= document.getElementById("starost").value
        var danezgoda= document.getElementById("starost").value
        var nenezgoda= document.getElementById("starost").value
        var nezgoda
        if(danezgoda.length===0){
            nezgoda="Ima";
        }else{
            nezgoda="Nema";
        }
        if(name.length===0||surname.length===0||
            registarskatablica.length===0||starost.length===0||nezgoda.length===0){
            alert("nemas se vneseno")
            return
        }
        if(!proverkanataplica(registarskatablica)){
            alert("netocna tablica")
            return;
        }
        var cenazaplakanje=3000
        if(danezgoda.length!==0){
            cenazaplakanje+=500
        }
        if(zlatnatablica(registarskatablica)){
            cenazaplakanje+=1000;
        }
        var boja
        if(starost<30){
            boja="blue"
        }else{
            boja="red"
        }

        var zadodavanje='<div style="display:inline-block; width: 100px;height: 100px;background: '+boja+' "><div>'+name+'</div><div>'+surname+'</div><div>'+registarskatablica+'</div><div>'+starost+'</div><div>'+nezgoda+'</div><div>'+cenazaplakanje+'</div><div><button onclick="plati()">Plati</button><button onclick="izbrisi(this)">Izbrisi</button></div></div>'
        counterplakanje++;
        var plakanje=document.getElementById("zaplakanje");
        plakanje.innerHTML=counterplakanje;
        var dodadi=document.getElementById("dodadi")
        dodadi.innerHTML+=zadodavanje

    }
    function proverkanataplica(input){
        var prvibukvi=input.slice(0,2)
        if(!isNaN(prvibukvi[0])||!isNaN(prvibukvi[1])){
            return false
        }
        var brojki=input.slice(3,7)
        for (let i=0;i<brojki.length;i++){
            if(isNaN(brojki[i])){
                return false
            }
        }
        var poslednibukvi=input.slice(8,10)
        if(!isNaN(poslednibukvi[0])||!isNaN(poslednibukvi[1])){
            return false
        }
        return true

    }
    function izbrisi(obj) {
        var brishi=obj.parentNode.parentNode
        document.getElementById("dodadi").removeChild(brishie)
    }
    function zlatnatablica(input){
        var brojki=input.slice(3,7)
        for (let i=0;i<brojki.length-1;i++){
            if(brojki[i]!==brojki[i+1]){
                return false
            }
        }
        return true;
    }
</script>

</body>
</html>